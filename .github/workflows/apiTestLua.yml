name: Testing API Lua
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: windows-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - uses: leafo/gh-actions-lua@v11
        with:
          luaVersion: "5.4"
      

      - name: Copy required files
        run: |
          mkdir testdir
          copy api\moo.lua testdir\
          copy api\run.lua testdir\
          copy api\Moo.dll testdir\

      - name: Run Test
        run: |
          lua testdir\run.lua

      - name: Running Unit Tests (Not implemented)
        run: |
          echo "Running unit tests"